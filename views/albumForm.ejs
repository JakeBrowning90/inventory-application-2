<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head')%>

  <body>
    <%- include('partials/header')%>

    <main>
      <a href="/albums">Back to Albums</a>
      <p>TBA: Errors partial, replace required tag</p>
      <%- include('partials/errors')%>

      <form method="POST">
        <label for="title">Album title:</label>
        <input
          type="text"
          name="title"
          minlength="1"
          maxlength="60"
          value="<%= (locals.album) ? album.title : '' %>"
          required
        />
        <label for="artist">Artist(s):</label>
        <select name="artist" multiple required>
          <% artists.forEach((artist) => { %>
          <option value="<%= artist.id %>"><%=artist.name%></option>
          <%})%>
        </select>
        <label for="year">Release year:</label>
        <input
          type="number"
          name="year"
          min="1800"
          max="2100"
          value="<%= (locals.album) ? album.year : '' %>"
          required
        />
        <label for="notes">Notes:</label>
        <textarea
          name="notes"
          minlength="1"
          maxlength="1000"
          value="<%= (locals.album) ? album.notes : '' %>"
          required
        ></textarea>
        <button>Submit</button>
      </form>
    </main>
    <%- include('partials/footer')%>
  </body>
</html>
